# StarkovTestApp
Тестовое задания для СТАРКОВ Групп
﻿Для начала работы с проектом необходимо выполнить все шаги по созданию структуры БД (они описаны в файле Scripts).
Файл конфигурации для редактирования строки подключения находится в файле appsettings.json.
Для тестирования проекта лучше использовать Visual Studio 2022 с .NET 6.0.

Описание структуры проекта:

Контроллеры:

Всего было выделено 4 контроллера для каждой из необходимых функциональностей.
 1) ImportController - контроллер для импортирования данных из файла. Принимает в себя тип документа и физический путь до файла, импортирует данные и обновляет связи;
 2) TableController - контроллер для вывода структуры таблиц в формате Json. Принимает в себя тип таблицы.
 3) OrganizationController - контроллер для формирования структуры предприятия. Вызов без параметра приводит к воссозданию полной иерархической структуры.
 Вызов с параметром (ID работника) приводит к воссозданию пути из отделов до указанного работника.
 4) ErrorsController - утилитарный контроллер, отображающий текущие ошибки в структуре таблиц - незаполненные поля, непроставленные связи и т.д.

 Сервисы:
 Было выделено 8 сервисов для обработки данных.
 1) ErrorService - сервис собирает некорректные данные из БД и формирует отчет, описывая проблемы этих данных;
 2) LinkService - сервис для проставления связей между таблицами, работает через вызов ХП;
 3) Logger - синглтон-класс для логирования процесса импортирования;
 4) OrganizationService - сервис для формирования структуры предприятия. Межет быть вызван для конкретного ID работника;
 5) ResultBuilder - утилитарный сервис для формирования структуры в требуемом текстовом формате;
 6) UploadService - сервис для загрузки данных из файла в БД;
 7) TableService - сервис для вывода структуры таблиц в формате Json;
 8) ValidateService - сервис для валидации вводимых значений.
